<!DOCTYPE html>
<html>
	<head>
        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
        <script type="text/javascript" charset="utf-8" src="jquery.js"></script>
	</head>

	<body>
		<h1>BSQ!PhoneGap</h1>
        <p id='Status'></p>
        <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
        <button onclick="capturePhoto();">Capture Photo</button> <br>
        <script type="text/javascript" charset="utf-8">
            
            var pictureSource;   // picture source
            var destinationType; // sets the format of returned value
            
            document.addEventListener("deviceready", onDeviceReady, false);

            // device APIs are available
            //
            function onDeviceReady() {
                
                $("#battery").html("Device ready!");
                
                pictureSource=navigator.camera.PictureSourceType;
                destinationType=navigator.camera.DestinationType;
                
            }
            
            function capturePhoto() {
              // Take picture using device camera and retrieve image as base64-encoded string
              navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,
                destinationType: destinationType.DATA_URL });
            }
            // Called if something bad happens.
            //
            function onFail(message) {
              alert('Failed because: ' + message);
            }
            
             function onPhotoDataSuccess(imageData) {
                  // Uncomment to view the base64-encoded image data
                  // console.log(imageData);

                  // Get image handle
                  //
                  var smallImage = document.getElementById('smallImage');

                  // Unhide image elements
                  //
                  smallImage.style.display = 'block';

                  // Show the captured photo
                  // The inline CSS rules are used to resize the image
                  //
                  smallImage.src = "data:image/jpeg;base64," + imageData;
                }
            
            
        </script>
        
	</body>

</html>